{% extends 'base.html.twig' %}

{% block title %}Course Details{% endblock %}

{% block body %}
    <h1>{{ course.title }}</h1>
    <ul>
        <li>ID: {{ course.id }}</li>
        <li>Code: {{ course.code }}</li>
        <li>Department:
            {% if course.department %}
                <a href="{{ path('department_view', {id: course.department.id}) }}">
                    {{ course.department.name }}
                </a>
            {% else %}
                N/A
            {% endif %}
        </li>
        <li>Instructor:
            {% if course.instructor %}
                <a href="{{ path('instructor_view', {id: course.instructor.id}) }}">
                    {{ course.instructor.fullName }}
                </a>
            {% else %}
                N/A
            {% endif %}
        </li>
        <li>Description: {{ course.description }}</li>
    </ul>

    <div>
        <a href="{{ path('course_edit', {id: course.id}) }}" class="btn btn-secondary">Edit</a>
    </div>

    <div>
        <a href="{{ path('course_list') }}">Back to list</a>
    </div>

    <h2>Enrolled Students</h2>
    {% if course.enrolments|length > 0 %}
        <ul>
            {% for enrolment in course.enrolments %}
                <li>
                    <a href="{{ path('student_view', {id: enrolment.student.id}) }}">
                        {{ enrolment.student.fullName }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No students enrolled.</p>
    {% endif %}

    <h2>Assignments</h2>
    {% if course.assignments|length > 0 %}
        <ul>
            {% for assignment in course.assignments %}
                <li>
                    <a href="{{ path('assignment_view', {id: assignment.id}) }}">
                        {{ assignment.title }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No assignments listed.</p>
    {% endif %}
{% endblock %}
